@using Reddah.Web.UI.Models
@model IEnumerable<IGrouping<string, CultureViewModel>>
@{
    ViewBag.IncludeHeader = true;
    ViewBag.IncludeFooter = true;
    ViewBag.Title = "Set Your Default Country or Region";
}
@helper RenderGroup(string key, IEnumerable<CultureViewModel> group)
{
    if (group.Any())
    {
        <li>
            <span>@key</span>
            <ol>
                @foreach (var culture in group)
                {
                    <li><a href="@culture.Link">@culture.DisplayName</a></li>
                }
            </ol>
        </li>
    }
}
<style>
    .centerBlock {
        width: 1170px;
        margin: 0 auto;
        margin-top: 0;
        min-height: 500px;
    }
</style>

<div class="centerBlock">
    <h1>Set Your Default Country or Region</h1>
    <p>
        Select the default country or region you would like to see each time you visit Reddah.com. Can’t find your region? <a class="toggleFullList" href="#">View the full list</a>
    </p>
    <section class="primaryRegions">
        <ol class="changeLocaleBlock">
            @foreach (var cultureGroup in Model.Where(c => c.Key[0] <= 'F'))
            {
                @RenderGroup(cultureGroup.Key, cultureGroup.Where(c => c.IsInPreferList))
            }
        </ol>
        <ol class="changeLocaleBlock">
            @foreach (var cultureGroup in Model.Where(c => c.Key[0] >= 'G' && c.Key[0] <= 'O'))
            {
                @RenderGroup(cultureGroup.Key, cultureGroup.Where(c => c.IsInPreferList))
            }
        </ol>
        <ol class="changeLocaleBlock">
            @foreach (var cultureGroup in Model.Where(c => c.Key[0] >= 'P'))
            {
                @RenderGroup(cultureGroup.Key, cultureGroup.Where(c => c.IsInPreferList))
            }
        </ol>
        <div class="cannotFindRegion">
            <h2>Can't find your region?</h2>
            <a class="toggleFullList" href="#">View the full list</a>
        </div>
    </section>
    <section class="fullList">
        <ol class="changeLocaleBlock">
            @foreach (var cultureGroup in Model.Where(c => c.Key[0] <= 'F'))
            {
                @RenderGroup(cultureGroup.Key, cultureGroup)
            }
        </ol>
        <ol class="changeLocaleBlock">
            @foreach (var cultureGroup in Model.Where(c => c.Key[0] >= 'G' && c.Key[0] <= 'O'))
            {
                @RenderGroup(cultureGroup.Key, cultureGroup)
            }
        </ol>
        <ol class="changeLocaleBlock">
            @foreach (var cultureGroup in Model.Where(c => c.Key[0] >= 'P'))
            {
                @RenderGroup(cultureGroup.Key, cultureGroup)
            }
        </ol>
    </section>
</div>