<ion-item color="light" no-padding lines="none">
    <ion-icon name="ios-arrow-back" (click)="close()" class="backbutton"></ion-icon>
    <ion-label>我的收藏</ion-label>
    <ion-icon name="ios-add" (click)="createNote()" slot="end"></ion-icon>
</ion-item>
<ion-content #pageTop style="background-color: white;">
    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
        <ion-refresher-content refreshingSpinner="bubbles">
        </ion-refresher-content>
    </ion-refresher>
    <ion-card class="welcome-card" *ngFor="let bookmark of bookmarks">
        <ion-grid *ngIf="bookmark.Type==0">
            <ion-row>
                <ion-item lines="none" (click)="view(bookmark.article)" (press)="showChangeMenu($event, bookmark)">
                    <ion-avatar slot="start" class="avatar-top" *ngIf="bookmark.PreviewPhoto.length>0">
                        <img src="{{bookmark.PreviewPhoto}}">
                    </ion-avatar>
                    <ion-label text-wrap style="margin-top:0;">{{reddah.htmlDecode(bookmark.Title)}}</ion-label>
                </ion-item>
            </ion-row>
            <ion-row>
                <ion-item lines="none">
                    <ion-label slot="start" class="articleFooter" style="min-width: 300px;">
                        {{reddah.getSendTime(bookmark.CreatedOn| date: 'yyyy-MM-dd HH:mm:ss')}} 
                        {{reddah.appData('usernotename_'+bookmark.OrgUserName+'_'+this.userName)}}
                    </ion-label>
                </ion-item> 
            </ion-row>
        </ion-grid>
        <ion-grid *ngIf="bookmark.Type==1">
            <ion-row>
                <ion-item lines="none" (click)="viewer(bookmark.Content)" (press)="showChangeMenu($event, bookmark)">
                    <ion-avatar slot="start" class="avatar-top" *ngIf="bookmark.Content.length>0">
                        <img [src]="reddah.level2Cache(bookmark.Content)">
                    </ion-avatar>
                </ion-item>
            </ion-row>
            <ion-row>
                <ion-item lines="none">
                    <ion-note slot="end" class="articleFooterTime">{{reddah.getSendTime(bookmark.CreatedOn| date: 'yyyy-MM-dd HH:mm:ss')}} </ion-note>
                </ion-item> 
            </ion-row>
        </ion-grid>
    </ion-card>
    <ion-infinite-scroll threshold="100px" (ionInfinite)="loadData($event)">
        <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="{{ 'Button.Loading' | translate }}">
        </ion-infinite-scroll-content>
    </ion-infinite-scroll>
</ion-content>
