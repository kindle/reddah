<ion-item color="light" no-padding lines="none">
    <ion-icon slot="end" name="close" (click)="close()" class="backbutton"></ion-icon>
</ion-item>
<ion-content style="background-color: white;">
    <ion-item lines="none" class="sectionGapTop inputItem gapBottom" no-padding>
        <h2 class="title">{{ 'Register.Title' | translate }}</h2>
    </ion-item>

    <ion-item lines="none" class="sectionGapTop gapBottom inputItem" no-padding *ngIf="errorMessage.length>0">
        <ion-text color="danger">
            {{errorMessage}}
        </ion-text>
    </ion-item>

    <ion-item class="sectionGapTop gapBottom inputItem" no-padding>
        <ion-input type="text" placeholder="{{ 'Input.UserName' | translate }}" 
        [(ngModel)]="username" clearInput (ionBlur)="checkUserName()" (ionFocus)="focusUserName()"></ion-input>
        <ion-spinner name="dots" slot="end" *ngIf="checkFlagUserName"></ion-spinner>
        <ion-icon slot="end" name="checkmark-circle" color="primary" *ngIf="checkFlagUserNamePass"></ion-icon>
    </ion-item>

    <ion-item lines="{{password==''?'':'none'}}" class="gapBottom inputItem" no-padding>
        <ion-input type="password" placeholder="{{ 'Input.Password' | translate }}" 
            [(ngModel)]="password" clearInput (keyup)="testPwStrength()"></ion-input>
    </ion-item>
    <ion-item class="inputItem item-small" style="margin-top:0;margin-bottom:0;"
        no-padding lines="none" *ngIf="password!=''">
        <div *ngIf="strength=='orange'||strength=='blue'||strength=='green'"
        [class.pw-weak]="strength=='orange'"
        [class.pw-medium]="strength=='blue'"
        [class.pw-strong]="strength=='green'"></div>
        <div *ngIf="strength=='blue'||strength=='green'" style="margin-left:3px;"
        [class.pw-weak]="strength=='orange'"
        [class.pw-medium]="strength=='blue'"
        [class.pw-strong]="strength=='green'"></div>
        <div *ngIf="strength=='green'" style="margin-left:3px;"
        [class.pw-weak]="strength=='orange'"
        [class.pw-medium]="strength=='blue'"
        [class.pw-strong]="strength=='green'"></div>
    </ion-item>

    <ion-item class="gapBottom inputItem" no-padding>
        <ion-input type="password" placeholder="{{ 'Input.ConfirmPassword' | translate }}" 
        [(ngModel)]="confirmpassword" clearInput (ionBlur)="checkConfirmPassword()"></ion-input>
    </ion-item>

    <ion-item class="gapBottom inputItem" no-padding>
        <ion-input type="text" placeholder="{{ 'Input.Email' | translate }}" 
        [(ngModel)]="email" clearInput (ionBlur)="checkEmail()"></ion-input>
    </ion-item>
    
    <ion-item lines="none" class="gapBottom inputItem" no-padding>
        <ion-checkbox [(ngModel)]="agreed"></ion-checkbox>{{ 'Register.ReadAgree' | translate }}
    </ion-item>
    
    <div class="inputItem">
        <ion-note text-wrap color="dark">
            <span class="policy" (click)="browse('useragreement')">{{ 'Register.UserAgreement' | translate }}</span>
            <span class="policy" (click)="browse('privacypolicy')">{{ 'Register.Privacy' | translate }}</span> {{ 'Register.And' | translate }}
            <span class="policy" (click)="browse('contentpolicy')">{{ 'Register.Content' | translate }}</span>ã€‚
        </ion-note>
    </div> 

    <ion-button class="buttonGapTop gapBottom inputItem" size="large" (click)="register()"
     expand="block" [disabled]="checkRegister()">{{ 'Button.Register' | translate }}</ion-button>
    
</ion-content>
<div class="footer">
    <div class="conductArea" text-center>
        <p class="copyright">
            Reddah.com<br>
        </p>
    </div>
</div>