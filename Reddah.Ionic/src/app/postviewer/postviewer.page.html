<ion-item color="light" no-padding lines="none">
    <ion-button clear icon-start color="light" (click)="close()" style="--box-shadow: none;">
        <ion-icon is-active="false" name="arrow-back-outline"></ion-icon>
    </ion-button>
    <ion-button clear slot="end" color="light" (click)="presentPopover($event)" style="--box-shadow: none;" *ngIf="!preview">
        <ion-icon slot="icon-only" is-active="false" name="ellipsis-horizontal-outline"></ion-icon>
    </ion-button>
</ion-item>
<ion-content [scrollEvents]="true" (ionScroll)="onScroll($event)">
    <div style="padding-left: 10px;padding-top: 10px;padding-bottom: 10px;">
        <span style="font-size: larger;color:black;" class="article-title" [innerHTML]="reddah.htmlDecode(article.Title) | safe: 'html'"></span>
        <div style="margin:10px 0;">
            <ion-text color="primary" (click)="goUser(article.UserName)">
                <span class="user-name" [innerHTML]="reddah.getDisplayName(article.UserName) | safe: 'html'"></span>
            </ion-text>
            <ion-text style="margin-left:5px;" color="dark" margin-end>{{reddah.getSendTime(article.CreatedOnOrg| date: 'yyyy-MM-dd HH:mm:ss')}}</ion-text>     
            
            <ion-note *ngIf="!asNormalUser" color="danger" slot="end" (click)="delete()">[{{reddah.instant('Comment.Delete') }}]</ion-note>
            <ion-note *ngIf="!asNormalUser" color="danger" slot="end" (click)="edit()">[{{reddah.instant('Comment.Edit') }}]</ion-note>
        </div>
        <div class="listInfo">
            <span *ngFor="let group of article.GroupName.split(',')" (click)="goSearch(group)" style="padding-right:5px;">
                <u style="border-bottom: 1px solid #ff3030;text-decoration: none;color:#107c10;margin-bottom:2px;">{{group.trim()}}</u>
            </span>
        </div>
        <ion-text color="dark" *ngIf="!article.VideoUrl">
            <div id="articleContent" (click)="viewer($event)" [innerHTML]="reddah.htmlDecode(article.Content) | safe: 'html'"></div>
        </ion-text>
        <div *ngIf="article.VideoUrl" style="padding: 10px 10px 10px 0;">
            <video style="width:100%;" id="video_{{article.Id}}" [poster]="" [src]="article.VideoUrl" controls>
                your browser does not support playing video
            </video>
        </div>
    </div>
    <app-comment [(normal)]="asNormalUser" *ngIf="!preview" #commentlist count="{{article.Count}}" no-padding [data]="commentsData" [depth]="1" [authoronly]="authoronly" (commentClick)="childCommentClick($event)" 
        [articleauthor]="article.UserName"></app-comment>
</ion-content>
<app-comment-box *ngIf="!preview" #commentbox count="{{article.Count}}" bookmark={{article.Down}} selectedArticleId="{{article.Id}}" selectedCommentId="-1"
    (reloadComments)="childReloadComments($event)"></app-comment-box>
<ion-fab vertical="center" horizontal="end" slot="fixed" *ngIf="!preview&&isAdmin()">
    <ion-fab-button (click)="switchToAdmin()">
        <ion-icon name="build"*ngIf="asNormalUser"></ion-icon>
        <ion-icon name="person"*ngIf="!asNormalUser"></ion-icon>
    </ion-fab-button>
</ion-fab>
    