<ion-footer class="chat-footer">
    <ion-item lines="none" color="light">
        <ion-icon name="mic" size="medium" (click)="switchSpeak()" *ngIf="!showSpeakBox"></ion-icon>
        <ion-textarea class="newChatComment" autoresize rows="1" cols="21" (click)="hide()"
        #newChatComment id="newChatComment" [(ngModel)]="commentContent" *ngIf="!showSpeakBox"></ion-textarea>
        <ion-icon name="apps" size="medium" (click)="switchSpeak()" *ngIf="showSpeakBox"></ion-icon>
        <ion-textarea class="newChatComment" autoresize readonly rows="1" cols="21" text-center
        placeholder="按住 说话" *ngIf="showSpeakBox" (press)="startSpeak()" (pressup)="stopSpeak()"></ion-textarea>
        
        <ion-icon slot="end" name="happy" size="medium" (click)="toggleFacePanel()" *ngIf="!showFacePanel"></ion-icon>
        <ion-icon slot="end" name="apps" size="medium" (click)="toggleFacePanel()" *ngIf="showFacePanel"></ion-icon>
        <ion-icon slot="end" name="add-circle-outline" size="medium" (click)="toggleFunctionPanel()" *ngIf="!commentContent"></ion-icon>
        <ion-button slot="end" (click)="submit()" color="primary" *ngIf="commentContent">发送</ion-button>
    </ion-item>
    <ion-grid *ngIf="showFacePanel" class="optionPanel">
        <ion-row *ngFor="let row of reddah.emojis">
            <ion-col *ngFor="let col of row" text-center>
                <span (click)="faceSelection(col)" style="width: 80px;height: 80px;">{{col}}</span>
            </ion-col>
        </ion-row> 
    </ion-grid>
    <ion-slides [options]="slideOpts" [pager]="true" *ngIf="showFunctionPanel" class="optionPanel">
        <ion-slide *ngFor="let chatFunctions of chatFunctionGroups">
            <div class="funGrid">
                <div *ngFor="let col of chatFunctions" style="display: flex;flex-direction: column;">
                    <div class="funCard">
                        <ion-icon name="{{col.icon}}" (click)="funSelection(col.id)" size="large"></ion-icon>
                    </div>
                    <ion-text class="funName" *ngIf="col.name">{{col.name}}</ion-text>
                </div>
            </div>
        </ion-slide>
    </ion-slides>
</ion-footer>