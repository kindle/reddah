<ion-item color="light" no-padding lines="none">
    <ion-icon name="ios-arrow-back" (click)="close()" class="backbutton"></ion-icon>
    <ion-text>聊天信息({{groupInfo.GroupName.split(",").length}})</ion-text>
    <ion-icon name="notifications-off" *ngIf="noDisturb" size="small" color="medium"></ion-icon>
</ion-item>
<ion-content no-padding style="background-color: #eeeeee;">
    <div class="gap">
        <ion-item lines="none" class="borderTop borderItem borderBottom">
            <div style="display: flex;flex-direction: column;" *ngFor="let uname of groupInfo.GroupName.split(',')">
                <ion-avatar class="userPhoto" (click)="goUser(uname)">
                    <img src="{{reddah.appPhoto['userphoto_'+uname]}}" class="portrait">
                </ion-avatar>
                <ion-label style="margin-top:0;width:65px;color:gray;" text-center>{{reddah.appData('usernotename_'+uname)}}</ion-label>
            </div>
            <div style="display: flex;flex-direction: column;">
                <div>
                    <ion-icon name="add" size="large" color="medium" class="addToGroupChat" (click)="addToGroupChat()"></ion-icon>
                </div>
                <ion-label style="margin-top:0;width:65px;color:gray;" text-center>&nbsp;</ion-label>
            </div>
        </ion-item>
    </div>
    <div class="gap">
        <ion-item class="borderTop borderItem" lines="none" (click)="changeTitle()">
            <ion-text slot="start">群聊名称</ion-text>
            <ion-label slot="end" *ngIf="groupInfo.Title.length>10">{{groupInfo.Title}}</ion-label>
            <ion-note slot="end" *ngIf="groupInfo.Title.length<=10">{{groupInfo.Title}}</ion-note>
            <ion-icon name="ios-arrow-forward" slot="end" size="small"></ion-icon>
        </ion-item>
        <ion-item class="borderItem" lines="none">
            <ion-label>群二维码</ion-label>
            <ion-icon name="ios-qr-scanner" slot="end" size="small"></ion-icon>
            <ion-icon name="ios-arrow-forward" slot="end" size="small"></ion-icon>
        </ion-item>
        <ion-item class="borderItem" lines="none">
            <ion-label>群公告</ion-label>
        </ion-item>
        <ion-item lines="none" class="borderItem borderBottom">
            <ion-note text-wrap margin-bottom margin-end>{{groupInfo.Content}}</ion-note>
            <ion-icon name="ios-arrow-forward" slot="end" size="small"></ion-icon>
        </ion-item>
    </div>
    
    <div class="gap">
        <ion-item class="borderTop borderItem borderBottom" lines="none">
            <ion-label>查找聊天记录</ion-label>
            <ion-icon name="ios-arrow-forward" slot="end" size="small"></ion-icon>
        </ion-item>
    </div>

    <div class="gap">
        <ion-item class="borderTop borderItem">
            <ion-label>消息免打扰</ion-label>
            <ion-toggle [(ngModel)]="noDisturb" color="success" slot="end"></ion-toggle>
        </ion-item>
        <ion-item class="borderItem">
            <ion-label>置顶聊天</ion-label>
            <ion-toggle [(ngModel)]="stickTop" color="success" slot="end"></ion-toggle>
        </ion-item>
        <ion-item class="borderItem borderBottom" lines="none">
            <ion-label>强提醒</ion-label>
            <ion-toggle [(ngModel)]="strongReminder" color="success" slot="end"></ion-toggle>
        </ion-item>
    </div>

    <div class="gap">
        <ion-item class="borderTop borderItem">
            <ion-label>我在本群的昵称</ion-label>
            <ion-note slot="end">昵称</ion-note>
            <ion-icon name="ios-arrow-forward" slot="end" size="small"></ion-icon>
        </ion-item>
        <ion-item class="borderItem borderBottom" lines="none">
            <ion-label>显示群成员昵称</ion-label>
            <ion-toggle [(ngModel)]="showGroupNickName" color="success" slot="end"></ion-toggle>
        </ion-item>
    </div>

    <div class="gap">
        <ion-item class="borderTop borderItem borderBottom" (click)="setBackground()" lines="none">
            <ion-label>设置当前聊天背景</ion-label>
            <ion-icon name="ios-arrow-forward" slot="end" size="small"></ion-icon>
        </ion-item>
    </div>

    <div class="gap">
        <ion-item class="borderTop borderItem borderBottom" (click)="clearChat()" lines="none">
            <ion-label>清空聊天记录</ion-label>
            <ion-icon name="ios-arrow-forward" slot="end" size="small"></ion-icon>
        </ion-item>
    </div>

    <div class="gap">
        <ion-item class="borderTop borderItem borderBottom" (click)="report()" lines="none">
            <ion-label>投诉</ion-label>
            <ion-icon name="ios-arrow-forward" slot="end" size="small"></ion-icon>
        </ion-item>
    </div>
    
    <div class="gap lastGap">
        <ion-item class="borderTop borderItem borderBottom" (click)="leaveGroupChatConfirm()" lines="none" text-center>
            <ion-label color="danger">删除并退出</ion-label>
        </ion-item>
    </div>
</ion-content>
