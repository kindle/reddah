<app-header title="Menu.Message" (click)="loadData()"></app-header>
<ion-content style="background-color: white;">
    <ion-item *ngFor="let message of messages" (click)="viewChat(message)">
        <img *ngIf="message.Type==2" src="{{reddah.appData('userphoto_'+GetSender(message.GroupName))}}" class="contactPortrait">
        <div class="groupImages" *ngIf="message.Type==3">
            <div *ngFor="let user of message.GroupName.split(',').slice(0,9)">
                <img src="{{reddah.appData('userphoto_'+user)}}">
            </div>
        </div>
        <ion-label style="margin-left:10px;" *ngIf="message.Type==2">
            <span class="user-name" *ngIf="message.Type==2">{{reddah.getDisplayName(GetSender(message.GroupName))}}</span>
            <br>
            <ion-note color="dark" *ngIf="message.Type==2">{{reddah.htmlDecode(message.LastUpdateContent)}}</ion-note>
        </ion-label>
        <ion-label style="margin-left:10px;" *ngIf="message.Type==3">
            <span class="user-name" *ngIf="message.Type==3">{{message.Title}}</span>
            <br>
            <ion-note color="dark" *ngIf="message.Type==3">{{reddah.getDisplayName(message.LastUpdateBy)}}: {{reddah.htmlDecode(message.LastUpdateContent)}}</ion-note>
        </ion-label>
        <ion-note slot="end">
            {{reddah.getSendTimeChat(message.LastUpdateOn|date:'yyyy-MM-dd HH:mm:ss')}}<br>
            <ion-icon name="notifications-off" color="light" style="float:right;"></ion-icon>
        </ion-note>
    </ion-item>
</ion-content>