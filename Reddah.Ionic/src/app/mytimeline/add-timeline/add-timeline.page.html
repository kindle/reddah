<ion-item color="light" no-padding lines="none">
    <ion-icon name="ios-arrow-back" slot="start" (click)="close()" class="backbutton"></ion-icon>
    <ion-button color="success" slot="end" (click)="submit()">{{ 'Confirm.Submit' | translate }}</ion-button>
</ion-item>
<ion-content (click)="tap($event)">
    <ion-item>
        <ion-textarea id="thoughtTxt" autoresize [(ngModel)]="yourThoughts" rows="{{postType==4?3:6}}" cols="20" 
        placeholder="{{ 'Pop.YourThoughts' | translate }}..."></ion-textarea>
    </ion-item>
    <ion-item lines="none">
        <ion-icon id="faceIcon" slot="start" name="happy" size="medium" (click)="toggleFacePanel()" margin-end></ion-icon>
    </ion-item>
    <app-share-face *ngIf="showFacePanel" (select)="faceSelection($event)"></app-share-face>
    <div class="imgContainer" dragula="bag" [(dragulaModel)]="photos" *ngIf="postType<3">
        <div class="imgSqure" *ngFor="let image of photos;index as i">
            <img [id]="reddah.makeItId(image.webUrl)" (load)="reddah.adjustImage($event, image.webUrl)"
            [defaultImage]="'assets/icon/noimage.jpg'" 
            [lazyLoad]="image.webUrl" 
            [useSrcset]="true"
            (click)="viewer(i, photos)">
        </div>
        <div class="imgSqure addImg" (click)="addNewPhoto($event)" *ngIf="photos.length<9">
          <ion-icon name="add" size="large" color="medium"></ion-icon>
        </div>
    </div>
    <div *ngIf="postType==3">
      //poster
      video
    </div>
    <div style="margin: 0 15px;">
      <app-share-article *ngIf="postType==4" [abstract]="article.Title" [image]="article.ImageUrl" [id]="article.Id"></app-share-article>
    </div>
    <ion-item lines="none">
      <ion-label></ion-label>
    </ion-item>
    <ion-item lines="none" (click)="getLocation()">
      <ion-icon name="pin" slot="start" color="{{location?'primary':'dark'}}"></ion-icon>
      <ion-note color="{{location?'primary':'dark'}}">{{location?location.title:'About.Location' | translate}}</ion-note>
      <ion-icon name="ios-arrow-forward" slot="end"></ion-icon>
    </ion-item>
<!--
    <ion-item>
      <ion-icon name="person" slot="start"></ion-icon>
      <ion-label>谁可以看</ion-label>
      <ion-icon name="ios-arrow-forward" slot="end"></ion-icon>
    </ion-item>
    <ion-item>
      <ion-icon name="at" slot="start"></ion-icon>
      <ion-label>提醒谁看</ion-label>
      <ion-icon name="ios-arrow-forward" slot="end"></ion-icon>
    </ion-item>
-->
</ion-content>
<ion-footer *ngIf="dragging" style="--background:red;background-color: red;color: white;">
    <ion-row id="delete-photo" class="delete-area" align-items-center justify-content-center dragula="bag" [(dragulaModel)]="photos_trash">
        <ion-icon name="ios-trash" color="tertiary" size="medium"></ion-icon>
        <ion-text *ngIf="dragToDel" color="white">{{ 'Pop.ReleaseToDel' | translate }}</ion-text>
        <ion-text *ngIf="!dragToDel">{{ 'Pop.DragToDel' | translate }}</ion-text>
    </ion-row>
</ion-footer>
