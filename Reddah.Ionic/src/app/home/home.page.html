<ion-content>
    <ng-template ngFor let-article [ngForOf]="articles">
        <ion-card class="welcome-card" (click)="view(article)">
            <video id="video_{{article.Id}}" (click)="playVideo(article.Id)" src="{{article.VideoUrl}}"
                    poster="{{article.VideoPoster}}"
                    *ngIf="article.VideoUrl.length>0"
                    controls="controls" loop="true">
            </video>
            <ion-img src="{{article.ImageUrls[0]}}" *ngIf="article.VideoUrl.length==0&&article.ImageUrls.length>0"></ion-img>
            <ion-card-header>
                <ion-card-subtitle>
                    <ng-template ngFor let-group [ngForOf]="article.GroupName.split(',')">
                        <ion-label><span [innerHTML]="htmlDecode(group)"></span> </ion-label>
                    </ng-template>
                </ion-card-subtitle>
                <ion-card-title><div [innerHTML]="htmlDecode(article.Title)"></div></ion-card-title>
            </ion-card-header>
            <ion-card-content><div [innerHTML]="summary(article.Title)"></div></ion-card-content>
            <ion-item>
                <ion-note color="dark">{{article.CreatedOn}}</ion-note>
                <ion-note color="dark" slot="end">{{article.Comments}} {{ 'Article.Comments' | translate }}</ion-note>
            </ion-item>
        </ion-card>
    </ng-template>
    
    <ion-infinite-scroll threshold="100px" (ionInfinite)="loadData($event)">
        <ion-infinite-scroll-content
            loadingSpinner="bubbles"
            loadingText="Loading more data...">
        </ion-infinite-scroll-content>
    </ion-infinite-scroll>

</ion-content>
